<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>My Application</title>

        <!-- Google Fonts Script -->
        <link href="https://fonts.googleapis.com/css?family=Bungee+Inline|Luckiest+Guy|Notable|Titan+One" rel="stylesheet">
        <!-- Materialize CSS Scripts -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!-- Custom CSS Scripts -->
        <link rel="stylesheet" href="style.css">
        <!-- WC3 sort script -->
        <script src="https://www.w3schools.com/lib/w3.js"></script>



    </head>
    <body class="light-blue accent-1">
        <div class="container">
            <div class="center main-header hide" id="codeup"><h2>KC & Benny's<br>Movie Application</h2></div>
                <div class="container1" id="container">
                    <h1 id=" center loading">Loading ...</h1>
                    <p style="display: none">To get started, edit <code>src/index.js</code>.</p>
                </div>

            <div class="row hide">
                <form class="col s12">
                    <div class="row">
                        <div class="input-field col s4">
                            <label for="newMovieTitle">Enter Movie Title:</label>
                            <input type="text" placeholder="Movie Title" id="newMovieTitle">
                        </div>
                        <div class="input-field col s4">
                            <label for="newMovieRating">Enter Movie Rating:</label>
                            <input type="text" placeholder="Movie Rating" id="newMovieRating">
                        </div>
                        <div class="col s4">
                            <label for="newMovieGenre">Enter Movie Genre:</label>
                            <!--<input type="text" placeholder="Movie Genre" id="newMovieGenre">-->
                            <select id="newMovieGenre" class="browser-default"></select>
                            <br>
                            <div>
                                <button class="teal darken-1 waves-effect waves-light btn" type="submit" id="addMovie" disabled>Add Movie</button>
                                    <!--<i class="material-icons left">add</i>Movie &lt;!&ndash; why isn't the icon working?! &ndash;&gt;-->
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div class="hide">

            <select class="browser-default" id="moviesToEdit">
                <option></option>
            </select><br>
                <button class="light-blue darken-1 waves-effect waves-light btn" id="selectMovieToEdit">Select Movie to edit</button>

                <input type="text" hidden id="movieToEditTitle">
                <input type="text" hidden id="movieToEditRating">
                <!--<input type="text" hidden id="movieToEditGenre">-->
                <select class="browser-default hide" hidden id="movieToEditGenre"></select>
                <br>
                <button class="light-blue darken-1 waves-effect waves-light btn hide" hidden id="submitMovieToEdit" >Submit Movie to edit</button>
            </div>
            <input type="text" id="searchMovie" onkeyup="searchMovieTitle()" placeholder="Search for titles">
            <input type="text" id="searchRating" onkeyup="searchMovieRating()" placeholder="Search for ratings">
            <input type="text" id="searchGenre" onkeyup="searchMovieGenre()" placeholder="Search for genres">
            <div id="movieTable" class="hide">
                <table id="myTable" class="table">
                    <thead>
                        <tr>
                            <th onclick="w3.sortHTML('#myTable', '.item', 'td:nth-child(1)')" style="cursor:pointer"><h4>Movie Title</h4></th>
                            <th onclick="w3.sortHTML('#myTable', '.item', 'td:nth-child(2)')" style="cursor:pointer"><h4>Rating</h4></th>
                            <th onclick="w3.sortHTML('#myTable', '.item', 'td:nth-child(3)')" style="cursor:pointer"><h4>Genre</h4></th>
                            <th style="cursor:pointer"><h4>Delete</h4></th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>

        <script src="main.js"></script>
        <!-- Compiled and minified CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
        <!-- Compiled and minified JavaScript -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <!-- Custom JavaScript -->
        <script
                src="https://code.jquery.com/jquery-2.2.4.js"
                integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="
                crossorigin="anonymous"></script>
        <script>
            function searchMovieTitle() {
                console.log('hey');
                var input, filter, table, tbody, td, i;
                input = $("#searchMovie").val();
                filter = input.toUpperCase();
                table = $("#myTable");
                tbody = $("tbody");
                for (i = 0; i < tbody.length; i++) {
                    td = tbody[i].getElementsByTagName("td")[0];
                    if (td) {
                        if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                            tbody[i].style.display = "";
                        } else {
                            tbody[i].style.display = "none";
                        }
                    }
                }
            }
            function searchMovieRating() {
                var input, filter, table, tbody, td, i;
                input = $("#searchRating").val();
                filter =input
                table = $("#myTable");
                tbody = $("tbody");
                for (i = 0; i < tbody.length; i++) {
                    td = tbody[i].getElementsByTagName("td")[1];
                    if (td) {
                        if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                            tbody[i].style.display = "";
                        } else {
                            tbody[i].style.display = "none";
                        }
                    }
                }
            }
            function searchMovieGenre() {
                var input, filter, table, tbody, td, i;
                input = $("#searchGenre").val();
                filter = input.toUpperCase();
                table = $("#myTable");
                tbody = $("tbody");
                for (i = 0; i < tbody.length; i++) {
                    td = tbody[i].getElementsByTagName("td")[2];
                    if (td) {
                        if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                            tbody[i].style.display = "";
                        } else {
                            tbody[i].style.display = "none";
                        }
                    }
                }
            }
        </script>
    </body>
</html>
